{"{\"assumptions\":{},\"sourceRoot\":\"/home/rtyukh/Проекты/postfix/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/rtyukh/Проекты/postfix\",\"filename\":\"/home/rtyukh/Проекты/postfix/transform.ts\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/rtyukh/Проекты/postfix\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"isTSX\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"/* transform.ts\n *\n * SPDX-License-Identifier: GPL-2.0-or-later\n * SPDX-FileCopyrightText: 2022 Roman Tyukh\n *\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = transformer;\nexports.parser = void 0;\nvar TransformMap = _interopRequireWildcard(require(\"./transform.map\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst parser = 'ts';\nexports.parser = parser;\nfunction exportFunctions(source, api) {\n  const j = api.jscodeshift;\n  const root = j(source);\n  root.find(j.FunctionDeclaration).forEach(path => {\n    if (path.parentPath.value.type === 'ExportNamedDeclaration') j(path.parentPath).replaceWith(path.node);\n  });\n  return root.toSource();\n}\nfunction exportVariables(source, api) {\n  const j = api.jscodeshift;\n  const root = j(source);\n  root.find(j.VariableDeclaration).forEach(path => {\n    if (path.parentPath.value.type === 'ExportNamedDeclaration') {\n      if (path.node.kind !== 'var') path.node.kind = 'var';\n      j(path.parentPath).replaceWith(path.node);\n    }\n  });\n  return root.toSource();\n}\nfunction osPathToImportsExpression(api, osPath, object = '') {\n  const j = api.jscodeshift;\n  let imports = TransformMap.conversion.get(osPath.trim());\n  if (imports === undefined) {\n    imports = 'misc/extensionUtils/getCurrentExtension()/imports/' + osPath.trim().replace('./', '');\n  }\n  const parts = imports.split('/');\n  if (object !== '') parts.push(object);\n  let ast = j.identifier('imports');\n  parts.forEach(part => ast = j.memberExpression(ast, j.identifier(part.toString())));\n  return ast;\n}\nfunction importDeclarations(source, api) {\n  const j = api.jscodeshift;\n  const root = j(source);\n  root.find(j.ImportDeclaration).forEach(path => {\n    var _path$node$specifiers;\n    (_path$node$specifiers = path.node.specifiers) === null || _path$node$specifiers === void 0 ? void 0 : _path$node$specifiers.forEach(specifier => {\n      var _path$node$source$val, _specifier$local, _path$node$source$val2;\n      let ast;\n      switch (specifier.type) {\n        case 'ImportSpecifier':\n        case 'ImportDefaultSpecifier':\n          ast = j.variableDeclarator(\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          specifier.local, osPathToImportsExpression(api, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain\n          (_path$node$source$val = path.node.source.value) === null || _path$node$source$val === void 0 ? void 0 : _path$node$source$val.toString(), (_specifier$local = specifier.local) === null || _specifier$local === void 0 ? void 0 : _specifier$local.name));\n          break;\n        case 'ImportNamespaceSpecifier':\n          ast = j.variableDeclarator(\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          specifier.local,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain\n          osPathToImportsExpression(api, (_path$node$source$val2 = path.node.source.value) === null || _path$node$source$val2 === void 0 ? void 0 : _path$node$source$val2.toString()));\n          break;\n      }\n      path.insertBefore(j.variableDeclaration('const', [ast]));\n    });\n    path.prune();\n  });\n  return root.toSource();\n}\nfunction transformer(file, api) {\n  let source = file.source;\n  source = exportFunctions(source, api);\n  source = exportVariables(source, api);\n  source = importDeclarations(source, api);\n  return source;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXJzZXIiLCJleHBvcnRGdW5jdGlvbnMiLCJzb3VyY2UiLCJhcGkiLCJqIiwianNjb2Rlc2hpZnQiLCJyb290IiwiZmluZCIsIkZ1bmN0aW9uRGVjbGFyYXRpb24iLCJmb3JFYWNoIiwicGF0aCIsInBhcmVudFBhdGgiLCJ2YWx1ZSIsInR5cGUiLCJyZXBsYWNlV2l0aCIsIm5vZGUiLCJ0b1NvdXJjZSIsImV4cG9ydFZhcmlhYmxlcyIsIlZhcmlhYmxlRGVjbGFyYXRpb24iLCJraW5kIiwib3NQYXRoVG9JbXBvcnRzRXhwcmVzc2lvbiIsIm9zUGF0aCIsIm9iamVjdCIsImltcG9ydHMiLCJUcmFuc2Zvcm1NYXAiLCJjb252ZXJzaW9uIiwiZ2V0IiwidHJpbSIsInVuZGVmaW5lZCIsInJlcGxhY2UiLCJwYXJ0cyIsInNwbGl0IiwicHVzaCIsImFzdCIsImlkZW50aWZpZXIiLCJwYXJ0IiwibWVtYmVyRXhwcmVzc2lvbiIsInRvU3RyaW5nIiwiaW1wb3J0RGVjbGFyYXRpb25zIiwiSW1wb3J0RGVjbGFyYXRpb24iLCJzcGVjaWZpZXJzIiwic3BlY2lmaWVyIiwidmFyaWFibGVEZWNsYXJhdG9yIiwibG9jYWwiLCJuYW1lIiwiaW5zZXJ0QmVmb3JlIiwidmFyaWFibGVEZWNsYXJhdGlvbiIsInBydW5lIiwidHJhbnNmb3JtZXIiLCJmaWxlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ydHl1a2gv0J/RgNC+0LXQutGC0YsvcG9zdGZpeC8iLCJzb3VyY2VzIjpbInRyYW5zZm9ybS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0cmFuc2Zvcm0udHNcbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlclxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBSb21hbiBUeXVraFxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7QVBJLCBGaWxlSW5mb30gZnJvbSAnanNjb2Rlc2hpZnQnO1xuaW1wb3J0IHtFeHByZXNzaW9uS2luZH0gZnJvbSAnYXN0LXR5cGVzL2dlbi9raW5kcyc7XG5pbXBvcnQgKiBhcyBUcmFuc2Zvcm1NYXAgZnJvbSAnLi90cmFuc2Zvcm0ubWFwJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlciA9ICd0cyc7XG5cbmZ1bmN0aW9uIGV4cG9ydEZ1bmN0aW9ucyhzb3VyY2U6IHN0cmluZywgYXBpOiBBUEkpOiBzdHJpbmcge1xuICBjb25zdCBqID0gYXBpLmpzY29kZXNoaWZ0O1xuICBjb25zdCByb290ID0gaihzb3VyY2UpO1xuXG4gIHJvb3QuZmluZChqLkZ1bmN0aW9uRGVjbGFyYXRpb24pLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBpZiAocGF0aC5wYXJlbnRQYXRoLnZhbHVlLnR5cGUgPT09ICdFeHBvcnROYW1lZERlY2xhcmF0aW9uJylcbiAgICAgIGoocGF0aC5wYXJlbnRQYXRoKS5yZXBsYWNlV2l0aChwYXRoLm5vZGUpO1xuICB9KTtcblxuICByZXR1cm4gcm9vdC50b1NvdXJjZSgpO1xufVxuXG5mdW5jdGlvbiBleHBvcnRWYXJpYWJsZXMoc291cmNlOiBzdHJpbmcsIGFwaTogQVBJKTogc3RyaW5nIHtcbiAgY29uc3QgaiA9IGFwaS5qc2NvZGVzaGlmdDtcbiAgY29uc3Qgcm9vdCA9IGooc291cmNlKTtcblxuICByb290LmZpbmQoai5WYXJpYWJsZURlY2xhcmF0aW9uKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgaWYgKHBhdGgucGFyZW50UGF0aC52YWx1ZS50eXBlID09PSAnRXhwb3J0TmFtZWREZWNsYXJhdGlvbicpIHtcbiAgICAgIGlmIChwYXRoLm5vZGUua2luZCAhPT0gJ3ZhcicpIHBhdGgubm9kZS5raW5kID0gJ3Zhcic7XG4gICAgICBqKHBhdGgucGFyZW50UGF0aCkucmVwbGFjZVdpdGgocGF0aC5ub2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByb290LnRvU291cmNlKCk7XG59XG5cbmZ1bmN0aW9uIG9zUGF0aFRvSW1wb3J0c0V4cHJlc3Npb24oYXBpOiBBUEksIG9zUGF0aDogc3RyaW5nLCBvYmplY3QgPSAnJyk6IEV4cHJlc3Npb25LaW5kIHtcbiAgY29uc3QgaiA9IGFwaS5qc2NvZGVzaGlmdDtcblxuICBsZXQgaW1wb3J0cyA9IFRyYW5zZm9ybU1hcC5jb252ZXJzaW9uLmdldChvc1BhdGgudHJpbSgpKTtcbiAgaWYgKGltcG9ydHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGltcG9ydHMgPVxuICAgICAgJ21pc2MvZXh0ZW5zaW9uVXRpbHMvZ2V0Q3VycmVudEV4dGVuc2lvbigpL2ltcG9ydHMvJyArIG9zUGF0aC50cmltKCkucmVwbGFjZSgnLi8nLCAnJyk7XG4gIH1cblxuICBjb25zdCBwYXJ0cyA9IGltcG9ydHMuc3BsaXQoJy8nKTtcbiAgaWYgKG9iamVjdCAhPT0gJycpIHBhcnRzLnB1c2gob2JqZWN0KTtcblxuICBsZXQgYXN0OiBFeHByZXNzaW9uS2luZCA9IGouaWRlbnRpZmllcignaW1wb3J0cycpO1xuICBwYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiAoYXN0ID0gai5tZW1iZXJFeHByZXNzaW9uKGFzdCwgai5pZGVudGlmaWVyKHBhcnQudG9TdHJpbmcoKSkpKSk7XG5cbiAgcmV0dXJuIGFzdDtcbn1cblxuZnVuY3Rpb24gaW1wb3J0RGVjbGFyYXRpb25zKHNvdXJjZTogc3RyaW5nLCBhcGk6IEFQSSk6IHN0cmluZyB7XG4gIGNvbnN0IGogPSBhcGkuanNjb2Rlc2hpZnQ7XG4gIGNvbnN0IHJvb3QgPSBqKHNvdXJjZSk7XG5cbiAgcm9vdC5maW5kKGouSW1wb3J0RGVjbGFyYXRpb24pLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBwYXRoLm5vZGUuc3BlY2lmaWVycz8uZm9yRWFjaCgoc3BlY2lmaWVyKSA9PiB7XG4gICAgICBsZXQgYXN0O1xuICAgICAgc3dpdGNoIChzcGVjaWZpZXIudHlwZSkge1xuICAgICAgICBjYXNlICdJbXBvcnRTcGVjaWZpZXInOlxuICAgICAgICBjYXNlICdJbXBvcnREZWZhdWx0U3BlY2lmaWVyJzpcbiAgICAgICAgICBhc3QgPSBqLnZhcmlhYmxlRGVjbGFyYXRvcihcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBzcGVjaWZpZXIubG9jYWwhLFxuICAgICAgICAgICAgb3NQYXRoVG9JbXBvcnRzRXhwcmVzc2lvbihcbiAgICAgICAgICAgICAgYXBpLFxuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICAgIHBhdGgubm9kZS5zb3VyY2UudmFsdWU/LnRvU3RyaW5nKCkhLFxuICAgICAgICAgICAgICBzcGVjaWZpZXIubG9jYWw/Lm5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXInOlxuICAgICAgICAgIGFzdCA9IGoudmFyaWFibGVEZWNsYXJhdG9yKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHNwZWNpZmllci5sb2NhbCEsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICBvc1BhdGhUb0ltcG9ydHNFeHByZXNzaW9uKGFwaSwgcGF0aC5ub2RlLnNvdXJjZS52YWx1ZT8udG9TdHJpbmcoKSEpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHBhdGguaW5zZXJ0QmVmb3JlKGoudmFyaWFibGVEZWNsYXJhdGlvbignY29uc3QnLCBbYXN0XSkpO1xuICAgIH0pO1xuICAgIHBhdGgucHJ1bmUoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvb3QudG9Tb3VyY2UoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtZXIoZmlsZTogRmlsZUluZm8sIGFwaTogQVBJKTogc3RyaW5nIHtcbiAgbGV0IHNvdXJjZTogc3RyaW5nID0gZmlsZS5zb3VyY2U7XG5cbiAgc291cmNlID0gZXhwb3J0RnVuY3Rpb25zKHNvdXJjZSwgYXBpKTtcbiAgc291cmNlID0gZXhwb3J0VmFyaWFibGVzKHNvdXJjZSwgYXBpKTtcbiAgc291cmNlID0gaW1wb3J0RGVjbGFyYXRpb25zKHNvdXJjZSwgYXBpKTtcblxuICByZXR1cm4gc291cmNlO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTs7QUFBQztFQUFBO0FBQUE7QUFBQTtBQUFBO0FBSWI7QUFBZ0Q7QUFBQTtBQUV6QyxNQUFNQSxNQUFNLEdBQUcsSUFBSTtBQUFDO0FBRTNCLFNBQVNDLGVBQWUsQ0FBQ0MsTUFBYyxFQUFFQyxHQUFRLEVBQVU7RUFDekQsTUFBTUMsQ0FBQyxHQUFHRCxHQUFHLENBQUNFLFdBQVc7RUFDekIsTUFBTUMsSUFBSSxHQUFHRixDQUFDLENBQUNGLE1BQU0sQ0FBQztFQUV0QkksSUFBSSxDQUFDQyxJQUFJLENBQUNILENBQUMsQ0FBQ0ksbUJBQW1CLENBQUMsQ0FBQ0MsT0FBTyxDQUFFQyxJQUFJLElBQUs7SUFDakQsSUFBSUEsSUFBSSxDQUFDQyxVQUFVLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxLQUFLLHdCQUF3QixFQUN6RFQsQ0FBQyxDQUFDTSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxDQUFDRyxXQUFXLENBQUNKLElBQUks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","map":{"version":3,"names":["parser","exportFunctions","source","api","j","jscodeshift","root","find","FunctionDeclaration","forEach","path","parentPath","value","type","replaceWith","node","toSource","exportVariables","VariableDeclaration","kind","osPathToImportsExpression","osPath","object","imports","TransformMap","conversion","get","trim","undefined","replace","parts","split","push","ast","identifier","part","memberExpression","toString","importDeclarations","ImportDeclaration","specifiers","specifier","variableDeclarator","local","name","insertBefore","variableDeclaration","prune","transformer","file"],"sourceRoot":"/home/rtyukh/Проекты/postfix/","sources":["transform.ts"],"sourcesContent":["/* transform.ts\n *\n * SPDX-License-Identifier: GPL-2.0-or-later\n * SPDX-FileCopyrightText: 2022 Roman Tyukh\n *\n */\n\n'use strict';\n\nimport {API, FileInfo} from 'jscodeshift';\nimport {ExpressionKind} from 'ast-types/gen/kinds';\nimport * as TransformMap from './transform.map';\n\nexport const parser = 'ts';\n\nfunction exportFunctions(source: string, api: API): string {\n  const j = api.jscodeshift;\n  const root = j(source);\n\n  root.find(j.FunctionDeclaration).forEach((path) => {\n    if (path.parentPath.value.type === 'ExportNamedDeclaration')\n      j(path.parentPath).replaceWith(path.node);\n  });\n\n  return root.toSource();\n}\n\nfunction exportVariables(source: string, api: API): string {\n  const j = api.jscodeshift;\n  const root = j(source);\n\n  root.find(j.VariableDeclaration).forEach((path) => {\n    if (path.parentPath.value.type === 'ExportNamedDeclaration') {\n      if (path.node.kind !== 'var') path.node.kind = 'var';\n      j(path.parentPath).replaceWith(path.node);\n    }\n  });\n\n  return root.toSource();\n}\n\nfunction osPathToImportsExpression(api: API, osPath: string, object = ''): ExpressionKind {\n  const j = api.jscodeshift;\n\n  let imports = TransformMap.conversion.get(osPath.trim());\n  if (imports === undefined) {\n    imports =\n      'misc/extensionUtils/getCurrentExtension()/imports/' + osPath.trim().replace('./', '');\n  }\n\n  const parts = imports.split('/');\n  if (object !== '') parts.push(object);\n\n  let ast: ExpressionKind = j.identifier('imports');\n  parts.forEach((part) => (ast = j.memberExpression(ast, j.identifier(part.toString()))));\n\n  return ast;\n}\n\nfunction importDeclarations(source: string, api: API): string {\n  const j = api.jscodeshift;\n  const root = j(source);\n\n  root.find(j.ImportDeclaration).forEach((path) => {\n    path.node.specifiers?.forEach((specifier) => {\n      let ast;\n      switch (specifier.type) {\n        case 'ImportSpecifier':\n        case 'ImportDefaultSpecifier':\n          ast = j.variableDeclarator(\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            specifier.local!,\n            osPathToImportsExpression(\n              api,\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain\n              path.node.source.value?.toString()!,\n              specifier.local?.name\n            )\n          );\n          break;\n        case 'ImportNamespaceSpecifier':\n          ast = j.variableDeclarator(\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            specifier.local!,\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain\n            osPathToImportsExpression(api, path.node.source.value?.toString()!)\n          );\n          break;\n      }\n      path.insertBefore(j.variableDeclaration('const', [ast]));\n    });\n    path.prune();\n  });\n\n  return root.toSource();\n}\n\nexport default function transformer(file: FileInfo, api: API): string {\n  let source: string = file.source;\n\n  source = exportFunctions(source, api);\n  source = exportVariables(source, api);\n  source = importDeclarations(source, api);\n\n  return source;\n}\n"],"mappings":"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"}},"mtime":1670669492167},"{\"assumptions\":{},\"sourceRoot\":\"/home/rtyukh/Проекты/postfix/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/rtyukh/Проекты/postfix\",\"filename\":\"/home/rtyukh/Проекты/postfix/transform.map.ts\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/rtyukh/Проекты/postfix\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"isTSX\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.conversion = void 0;\nconst conversion = new Map([['@gi-types/cairo1', 'cairo'], ['@gi-types/gobject2', 'gi/GObject'], ['@gi-types/glib2', 'gi/GLib'], ['@gi-types/gio2', 'gi/Gio'], ['@gi-types/adw1', 'gi/Adw'], ['@gi-types/gtk4', 'gi/Gtk'], ['@gi-types/clutter10', 'gi/Clutter'], ['@gi-types/st1', 'gi/St']]);\nexports.conversion = conversion;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb252ZXJzaW9uIiwiTWFwIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ydHl1a2gv0J/RgNC+0LXQutGC0YsvcG9zdGZpeC8iLCJzb3VyY2VzIjpbInRyYW5zZm9ybS5tYXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnZlcnNpb246IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKFtcbiAgWydAZ2ktdHlwZXMvY2Fpcm8xJywgJ2NhaXJvJ10sXG4gIFsnQGdpLXR5cGVzL2dvYmplY3QyJywgJ2dpL0dPYmplY3QnXSxcbiAgWydAZ2ktdHlwZXMvZ2xpYjInLCAnZ2kvR0xpYiddLFxuICBbJ0BnaS10eXBlcy9naW8yJywgJ2dpL0dpbyddLFxuICBbJ0BnaS10eXBlcy9hZHcxJywgJ2dpL0FkdyddLFxuICBbJ0BnaS10eXBlcy9ndGs0JywgJ2dpL0d0ayddLFxuICBbJ0BnaS10eXBlcy9jbHV0dGVyMTAnLCAnZ2kvQ2x1dHRlciddLFxuICBbJ0BnaS10eXBlcy9zdDEnLCAnZ2kvU3QnXSxcbl0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxVQUErQixHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUNyRCxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxFQUM3QixDQUFDLG9CQUFvQixFQUFFLFlBQVksQ0FBQyxFQUNwQyxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxFQUM5QixDQUFDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxFQUM1QixDQUFDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxFQUM1QixDQUFDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxFQUM1QixDQUFDLHFCQUFxQixFQUFFLFlBQVksQ0FBQyxFQUNyQyxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsQ0FDM0IsQ0FBQztBQUFDIn0=","map":{"version":3,"names":["conversion","Map"],"sourceRoot":"/home/rtyukh/Проекты/postfix/","sources":["transform.map.ts"],"sourcesContent":["export const conversion: Map<string, string> = new Map([\n  ['@gi-types/cairo1', 'cairo'],\n  ['@gi-types/gobject2', 'gi/GObject'],\n  ['@gi-types/glib2', 'gi/GLib'],\n  ['@gi-types/gio2', 'gi/Gio'],\n  ['@gi-types/adw1', 'gi/Adw'],\n  ['@gi-types/gtk4', 'gi/Gtk'],\n  ['@gi-types/clutter10', 'gi/Clutter'],\n  ['@gi-types/st1', 'gi/St'],\n]);\n"],"mappings":";;;;;;AAAO,MAAMA,UAA+B,GAAG,IAAIC,GAAG,CAAC,CACrD,CAAC,kBAAkB,EAAE,OAAO,CAAC,EAC7B,CAAC,oBAAoB,EAAE,YAAY,CAAC,EACpC,CAAC,iBAAiB,EAAE,SAAS,CAAC,EAC9B,CAAC,gBAAgB,EAAE,QAAQ,CAAC,EAC5B,CAAC,gBAAgB,EAAE,QAAQ,CAAC,EAC5B,CAAC,gBAAgB,EAAE,QAAQ,CAAC,EAC5B,CAAC,qBAAqB,EAAE,YAAY,CAAC,EACrC,CAAC,eAAe,EAAE,OAAO,CAAC,CAC3B,CAAC;AAAC"}},"mtime":1670657723173},"{\"assumptions\":{},\"sourceRoot\":\"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/rtyukh/Проекты/postfix\",\"filename\":\"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/ts.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/rtyukh/Проекты/postfix\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\n\n'use strict';\n\nconst babylon = require('@babel/parser');\nconst options = require('./tsOptions');\n\n/**\r\n * Doesn't accept custom options because babylon should be used directly in\r\n * that case.\r\n */\nmodule.exports = function () {\n  return {\n    parse(code) {\n      return babylon.parse(code, options);\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYWJ5bG9uIiwicmVxdWlyZSIsIm9wdGlvbnMiLCJtb2R1bGUiLCJleHBvcnRzIiwicGFyc2UiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ydHl1a2gv0J/RgNC+0LXQutGC0YsvcG9zdGZpeC8ueWFybi9fX3ZpcnR1YWxfXy9qc2NvZGVzaGlmdC12aXJ0dWFsLWJlZjEyNjY0YzEvMC9jYWNoZS9qc2NvZGVzaGlmdC1ucG0tMC4xNC4wLTc2ZTM4YzkwODAtNTRlYTZkNjM5NC56aXAvbm9kZV9tb2R1bGVzL2pzY29kZXNoaWZ0L3BhcnNlci8iLCJzb3VyY2VzIjpbInRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgYmFieWxvbiA9IHJlcXVpcmUoJ0BiYWJlbC9wYXJzZXInKTtcclxuY29uc3Qgb3B0aW9ucyA9IHJlcXVpcmUoJy4vdHNPcHRpb25zJyk7XHJcblxyXG4vKipcclxuICogRG9lc24ndCBhY2NlcHQgY3VzdG9tIG9wdGlvbnMgYmVjYXVzZSBiYWJ5bG9uIHNob3VsZCBiZSB1c2VkIGRpcmVjdGx5IGluXHJcbiAqIHRoYXQgY2FzZS5cclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHBhcnNlKGNvZGUpIHtcclxuICAgICAgcmV0dXJuIGJhYnlsb24ucGFyc2UoY29kZSwgb3B0aW9ucyk7XHJcbiAgICB9LFxyXG4gIH07XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7O0FBRVosTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsZUFBZSxDQUFDO0FBQ3hDLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGFBQWEsQ0FBQzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQUUsTUFBTSxDQUFDQyxPQUFPLEdBQUcsWUFBVztFQUMxQixPQUFPO0lBQ0xDLEtBQUssQ0FBQ0MsSUFBSSxFQUFFO01BQ1YsT0FBT04sT0FBTyxDQUFDSyxLQUFLLENBQUNDLElBQUksRUFBRUosT0FBTyxDQUFDO0lBQ3JDO0VBQ0YsQ0FBQztBQUNILENBQUMifQ==","map":{"version":3,"names":["babylon","require","options","module","exports","parse","code"],"sourceRoot":"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/","sources":["ts.js"],"sourcesContent":["\r\n/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n\r\n'use strict';\r\n\r\nconst babylon = require('@babel/parser');\r\nconst options = require('./tsOptions');\r\n\r\n/**\r\n * Doesn't accept custom options because babylon should be used directly in\r\n * that case.\r\n */\r\nmodule.exports = function() {\r\n  return {\r\n    parse(code) {\r\n      return babylon.parse(code, options);\r\n    },\r\n  };\r\n};\r\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,eAAe,CAAC;AACxC,MAAMC,OAAO,GAAGD,OAAO,CAAC,aAAa,CAAC;;AAEtC;AACA;AACA;AACA;AACAE,MAAM,CAACC,OAAO,GAAG,YAAW;EAC1B,OAAO;IACLC,KAAK,CAACC,IAAI,EAAE;MACV,OAAON,OAAO,CAACK,KAAK,CAACC,IAAI,EAAEJ,OAAO,CAAC;IACrC;EACF,CAAC;AACH,CAAC"}},"mtime":456789000000},"{\"assumptions\":{},\"sourceRoot\":\"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/rtyukh/Проекты/postfix\",\"filename\":\"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/tsOptions.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/rtyukh/Проекты/postfix\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\n\n'use strict';\n\n/**\r\n * Options shared by the TypeScript and TSX parsers.\r\n */\nmodule.exports = {\n  sourceType: 'module',\n  allowImportExportEverywhere: true,\n  allowReturnOutsideFunction: true,\n  startLine: 1,\n  tokens: true,\n  plugins: ['asyncGenerators', 'bigInt', 'classPrivateMethods', 'classPrivateProperties', 'classProperties', 'decorators-legacy', 'doExpressions', 'dynamicImport', 'exportDefaultFrom', 'exportExtensions', 'exportNamespaceFrom', 'functionBind', 'functionSent', 'importMeta', 'nullishCoalescingOperator', 'numericSeparator', 'objectRestSpread', 'optionalCatchBinding', 'optionalChaining', ['pipelineOperator', {\n    proposal: 'minimal'\n  }], 'throwExpressions', 'typescript']\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic291cmNlVHlwZSIsImFsbG93SW1wb3J0RXhwb3J0RXZlcnl3aGVyZSIsImFsbG93UmV0dXJuT3V0c2lkZUZ1bmN0aW9uIiwic3RhcnRMaW5lIiwidG9rZW5zIiwicGx1Z2lucyIsInByb3Bvc2FsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ydHl1a2gv0J/RgNC+0LXQutGC0YsvcG9zdGZpeC8ueWFybi9fX3ZpcnR1YWxfXy9qc2NvZGVzaGlmdC12aXJ0dWFsLWJlZjEyNjY0YzEvMC9jYWNoZS9qc2NvZGVzaGlmdC1ucG0tMC4xNC4wLTc2ZTM4YzkwODAtNTRlYTZkNjM5NC56aXAvbm9kZV9tb2R1bGVzL2pzY29kZXNoaWZ0L3BhcnNlci8iLCJzb3VyY2VzIjpbInRzT3B0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBPcHRpb25zIHNoYXJlZCBieSB0aGUgVHlwZVNjcmlwdCBhbmQgVFNYIHBhcnNlcnMuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBzb3VyY2VUeXBlOiAnbW9kdWxlJyxcclxuICBhbGxvd0ltcG9ydEV4cG9ydEV2ZXJ5d2hlcmU6IHRydWUsXHJcbiAgYWxsb3dSZXR1cm5PdXRzaWRlRnVuY3Rpb246IHRydWUsXHJcbiAgc3RhcnRMaW5lOiAxLFxyXG4gIHRva2VuczogdHJ1ZSxcclxuICBwbHVnaW5zOiBbXHJcbiAgICAnYXN5bmNHZW5lcmF0b3JzJyxcclxuICAgICdiaWdJbnQnLFxyXG4gICAgJ2NsYXNzUHJpdmF0ZU1ldGhvZHMnLFxyXG4gICAgJ2NsYXNzUHJpdmF0ZVByb3BlcnRpZXMnLFxyXG4gICAgJ2NsYXNzUHJvcGVydGllcycsXHJcbiAgICAnZGVjb3JhdG9ycy1sZWdhY3knLFxyXG4gICAgJ2RvRXhwcmVzc2lvbnMnLFxyXG4gICAgJ2R5bmFtaWNJbXBvcnQnLFxyXG4gICAgJ2V4cG9ydERlZmF1bHRGcm9tJyxcclxuICAgICdleHBvcnRFeHRlbnNpb25zJyxcclxuICAgICdleHBvcnROYW1lc3BhY2VGcm9tJyxcclxuICAgICdmdW5jdGlvbkJpbmQnLFxyXG4gICAgJ2Z1bmN0aW9uU2VudCcsXHJcbiAgICAnaW1wb3J0TWV0YScsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcicsXHJcbiAgICAnbnVtZXJpY1NlcGFyYXRvcicsXHJcbiAgICAnb2JqZWN0UmVzdFNwcmVhZCcsXHJcbiAgICAnb3B0aW9uYWxDYXRjaEJpbmRpbmcnLFxyXG4gICAgJ29wdGlvbmFsQ2hhaW5pbmcnLFxyXG4gICAgWydwaXBlbGluZU9wZXJhdG9yJywgeyBwcm9wb3NhbDogJ21pbmltYWwnIH1dLFxyXG4gICAgJ3Rocm93RXhwcmVzc2lvbnMnLFxyXG4gICAgJ3R5cGVzY3JpcHQnXHJcbiAgXSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZkMsVUFBVSxFQUFFLFFBQVE7RUFDcEJDLDJCQUEyQixFQUFFLElBQUk7RUFDakNDLDBCQUEwQixFQUFFLElBQUk7RUFDaENDLFNBQVMsRUFBRSxDQUFDO0VBQ1pDLE1BQU0sRUFBRSxJQUFJO0VBQ1pDLE9BQU8sRUFBRSxDQUNQLGlCQUFpQixFQUNqQixRQUFRLEVBQ1IscUJBQXFCLEVBQ3JCLHdCQUF3QixFQUN4QixpQkFBaUIsRUFDakIsbUJBQW1CLEVBQ25CLGVBQWUsRUFDZixlQUFlLEVBQ2YsbUJBQW1CLEVBQ25CLGtCQUFrQixFQUNsQixxQkFBcUIsRUFDckIsY0FBYyxFQUNkLGNBQWMsRUFDZCxZQUFZLEVBQ1osMkJBQTJCLEVBQzNCLGtCQUFrQixFQUNsQixrQkFBa0IsRUFDbEIsc0JBQXNCLEVBQ3RCLGtCQUFrQixFQUNsQixDQUFDLGtCQUFrQixFQUFFO0lBQUVDLFFBQVEsRUFBRTtFQUFVLENBQUMsQ0FBQyxFQUM3QyxrQkFBa0IsRUFDbEIsWUFBWTtBQUVoQixDQUFDIn0=","map":{"version":3,"names":["module","exports","sourceType","allowImportExportEverywhere","allowReturnOutsideFunction","startLine","tokens","plugins","proposal"],"sourceRoot":"/home/rtyukh/Проекты/postfix/.yarn/__virtual__/jscodeshift-virtual-bef12664c1/0/cache/jscodeshift-npm-0.14.0-76e38c9080-54ea6d6394.zip/node_modules/jscodeshift/parser/","sources":["tsOptions.js"],"sourcesContent":["\r\n/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Options shared by the TypeScript and TSX parsers.\r\n */\r\nmodule.exports = {\r\n  sourceType: 'module',\r\n  allowImportExportEverywhere: true,\r\n  allowReturnOutsideFunction: true,\r\n  startLine: 1,\r\n  tokens: true,\r\n  plugins: [\r\n    'asyncGenerators',\r\n    'bigInt',\r\n    'classPrivateMethods',\r\n    'classPrivateProperties',\r\n    'classProperties',\r\n    'decorators-legacy',\r\n    'doExpressions',\r\n    'dynamicImport',\r\n    'exportDefaultFrom',\r\n    'exportExtensions',\r\n    'exportNamespaceFrom',\r\n    'functionBind',\r\n    'functionSent',\r\n    'importMeta',\r\n    'nullishCoalescingOperator',\r\n    'numericSeparator',\r\n    'objectRestSpread',\r\n    'optionalCatchBinding',\r\n    'optionalChaining',\r\n    ['pipelineOperator', { proposal: 'minimal' }],\r\n    'throwExpressions',\r\n    'typescript'\r\n  ],\r\n};\r\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AACAA,MAAM,CAACC,OAAO,GAAG;EACfC,UAAU,EAAE,QAAQ;EACpBC,2BAA2B,EAAE,IAAI;EACjCC,0BAA0B,EAAE,IAAI;EAChCC,SAAS,EAAE,CAAC;EACZC,MAAM,EAAE,IAAI;EACZC,OAAO,EAAE,CACP,iBAAiB,EACjB,QAAQ,EACR,qBAAqB,EACrB,wBAAwB,EACxB,iBAAiB,EACjB,mBAAmB,EACnB,eAAe,EACf,eAAe,EACf,mBAAmB,EACnB,kBAAkB,EAClB,qBAAqB,EACrB,cAAc,EACd,cAAc,EACd,YAAY,EACZ,2BAA2B,EAC3B,kBAAkB,EAClB,kBAAkB,EAClB,sBAAsB,EACtB,kBAAkB,EAClB,CAAC,kBAAkB,EAAE;IAAEC,QAAQ,EAAE;EAAU,CAAC,CAAC,EAC7C,kBAAkB,EAClB,YAAY;AAEhB,CAAC"}},"mtime":456789000000}}